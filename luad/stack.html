
<html><head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta content="text/javascript" http-equiv="content-script-type">
<title>luad.stack</title>
<link rel="stylesheet" type="text/css" href="/LuaD/candydoc/style.css">
<link rel="icon" type="image/png" href="/LuaD/favicon.png">
<!--[if lt IE 7]><link rel="stylesheet" type="text/css" href="LuaD/candydoc/ie56hack.css"><![endif]-->
<script language="JavaScript" src="/LuaD/candydoc/util.js" type="text/javascript"></script>
<script language="JavaScript" src="/LuaD/candydoc/tree.js" type="text/javascript"></script>
<script language="JavaScript" src="/LuaD/candydoc/explorer.js" type="text/javascript"></script>
</head><body>
<div id="tabarea"></div><div id="explorerclient"></div>
<div id="content"><script>explorer.initialize("luad.stack");</script>
	<table class="content">
		<tr><td id="docbody">
			<div id="logo">
				<a href="/LuaD"><img src="/LuaD/logo.png" alt="LuaD logo" /></a>
			</div>
			<h1>luad.stack</h1>
			<!-- Generated by Ddoc from ..\luad\stack.d -->
This internal module, with the help of the luad.conversions package, takes care of converting between D and Lua types.
<br><br>
The conversion rules are as follows, where conversion goes both ways:
<dl><dt>boolean
		<dd>bool</dd>
	</dt>
	<dt>number
		<dd>lua_Integer (default int)</dd>
		<dd>lua_Number (default double)</dd>
	</dt>
	<dt>string
		<dd>string, const(char)[], char[]</dd>
		<dd>const(char)*</dd>
		<dd>char</dd>
	</dt>
	<dt>table
		<dd>associative arrays</dd>
		<dd>arrays</dd>
		<dd>structs</dd>
		<dd>LuaTable</dd>
	</dt>
	<dt>function
		<dd>function pointers</dd>
		<dd>delegates</dd>
		<dd>LuaFunction</dd>
	</dt>
	<dt>userdata
		<dd>classes</dd>
	</dt>
	<dt>nil
		<dd>the special identifier nil</dd>
		<dd><b>null</b> class references</dd>
	</dt>
	<dt>any of the above
		<dd>LuaObject</dd>
		<dd>Algebraic (from std.variant), when given a compatible value</dd>
	</dt>
</dl>
<br><br>

The conversions are checked in the specified order. For example, even though bool is implicitly convertible
to lua_Integer, it will be converted to a boolean because boolean has precedence.
<br><br>

Additionally, the following types are pushable to Lua, but can't be retrieved back:
<dl><dt>function
		<dd>lua_CFunction</dd>
	</dt>
</dl><br><br>


<script>explorer.outline.incSymbolLevel();</script>
<dl>
<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">void 
<span class="currsymbol">pushValue</span>
<script>explorer.outline.addDecl('pushValue');</script>

(T)(lua_State* <span class="funcparam">L</span>, T <span class="funcparam">value</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Push a value of any type to the stack.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">L</td>

               
<td>stack to push to</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">value</td>

               
<td>value to push</td></tr>
</table><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">int 
<span class="currsymbol">luaTypeOf</span>
<script>explorer.outline.addDecl('luaTypeOf');</script>

(T)();
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Get the associated Lua type for T.
<br><br>
<b>Returns:</b><br>
Lua type for T<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">T 
<span class="currsymbol">getValue</span>
<script>explorer.outline.addDecl('getValue');</script>

(T, alias typeMismatchHandler = defaultTypeMismatch)(lua_State* <span class="funcparam">L</span>, int <span class="funcparam">idx</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Get a value of any type from the stack.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">T</td>

               
<td>type of value</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">typeMismatchHandler</td>

               
<td>function called to produce an error in case of an invalid conversion.</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">L</td>

               
<td>stack to get from</td></tr>
<tr>
<td nowrap valign="top" style="padding-right: 8px">idx</td>

               
<td>value stack index</td></tr>
</table><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">LuaObject[] 
<span class="currsymbol">getStack</span>
<script>explorer.outline.addDecl('getStack');</script>

(lua_State* <span class="funcparam">L</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Get all objects on a stack, then clear the stack.
<br><br>
<b>Params:</b><br>
<table><tr>
<td nowrap valign="top" style="padding-right: 8px">lua_State* <span class="funcparam">L</span></td>

               
<td>stack to dump</td></tr>
</table><br>
<b>Returns:</b><br>
array of objects<br><br>

</dd>

<script>explorer.outline.writeEnabled = true;</script>
<dt><span class="decl">T 
<span class="currsymbol">popValue</span>
<script>explorer.outline.addDecl('popValue');</script>

(T, alias typeMismatchHandler = defaultTypeMismatch)(lua_State* <span class="funcparam">L</span>);
</span></dt>
<script>explorer.outline.writeEnabled = false;</script>


<dd>Same as calling getValue!(T, typeMismatchHandler)(L, -1), then popping one value from the stack.
<br><br>
<b>See Also:</b><br>
getValue<br><br>

</dd>
</dl>
<script>explorer.outline.decSymbolLevel();</script>



			</td>
		</tr>
		<tr><td id="docfooter">
			Page was generated with
			<img src="/LuaD/candydoc/img/candydoc.gif" style="vertical-align:middle; position:relative; top:-1px">
			on Sat Aug 13 22:32:32 2011

		</td></tr>
	</table>
</div>
<script>
	explorer.packageExplorer.addModule("luad.all");
	explorer.packageExplorer.addModule("luad.state");
	explorer.packageExplorer.addModule("luad.base");
	explorer.packageExplorer.addModule("luad.table");
	explorer.packageExplorer.addModule("luad.lfunction");
	explorer.packageExplorer.addModule("luad.error");
	explorer.packageExplorer.addModule("luad.stack");
	
	explorer.packageExplorer.addModule("luad.conversions.arrays");
	explorer.packageExplorer.addModule("luad.conversions.assocarrays");
	explorer.packageExplorer.addModule("luad.conversions.functions");
	explorer.packageExplorer.addModule("luad.conversions.structs");
	explorer.packageExplorer.addModule("luad.conversions.variant");
	
	explorer.packageExplorer.addModule("luad.c.all");</script>
</body></html>


